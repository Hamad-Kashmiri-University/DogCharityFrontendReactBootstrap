<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Search.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Search.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {Component, useState, useEffect} from 'react';
import axios from 'axios'
import Dogcard from '../Dogcard'

/**

* @function Search page functional component

* @returns returns rendered page 

*/

export default function Search() {

  
/**

* @constant state for dogs

*/

const [dogs, setDogs] = useState([]);
  
/**

* @constant state for search

*/
  
const [search, setSearch] = useState('');
  
    
/**

* @constant state for query

*/
const [query, setQuery] = useState('');

/**

* @function use effect

* @params { String } string for breed search

*/
  
useEffect(() => {
getDogs()
}, [query]);

/**

* @function get dogs

* @returns { object } returned dogs from search

*/  
  
const getDogs = async () => {
const res = await axios.get(`https://africa-spider-3000.codio-box.uk/api/dogs/search?breed=${query}`)
console.log(res);
setDogs(res.data)

}

/**

* @function update search

* @description updates search state everytime searchbar is typed into

*/  

const updateSearch = e => {
// e is for event, so every time there is an event we run updatesearch for the search bar
    setSearch(e.target.value)
    console.log(search)
}

/**

* @function get search

* @description sets search input to query and resets search

*/  

const getSearch = e => {
    e.preventDefault();
    setQuery(search);
    setSearch('')
    // resets search bar to empty
}    
    return (
        &lt;div className="container" style={{ marginTop: "50px"}}>
            &lt;div className="row align-content-center">
          &lt;h2 style={{ margin: "auto", width: "50%", float: "center", paddingBottom: '50px'}} className="display-4">Search Dogs by Breed&lt;/h2>
            &lt;/div>
        &lt;div className="row align-content-center"> 
          &lt;form className="form-group" onSubmit={getSearch} style={{margin: 'auto'}} >
            &lt;div className="navbar-nav">
              &lt;input className="form-control" onSubmit={getSearch} value={search} onChange={updateSearch} style = {{display:'inline-block'}} type="search" placeholder="Search" aria-label="Search"/>
                &lt;button className="btn" style = {{marginLeft: '50px', width: '100px', background:'#F2AA4CFF', color: '#fff', marginTop: '5px'}} type="submit">Search&lt;/button>
            &lt;/div>          
          &lt;/form>
        &lt;/div>

        &lt;div className="row">
          {dogs.map(dog => (
     &lt;Dogcard key={dog.id}
              dogid={dog._id}
              dogname={dog.name} 
              dogtraits={dog.traits}
              dogdescription={dog.description}
              dogage={dog.age}
              dogimage={dog.imageURL}
              dogbreed={dog.breed}
              doggender={dog.gender}/> 
          ))}
          &lt;/div>
      &lt;/div>
)}












</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Edit.html">Edit</a></li><li><a href="Favourites.html">Favourites</a></li><li><a href="Home.html">Home</a></li><li><a href="Login.html">Login</a></li><li><a href="NotFound.html">NotFound</a></li><li><a href="Unauthorized.html">Unauthorized</a></li></ul><h3>Global</h3><ul><li><a href="global.html#adddog">add dog</a></li><li><a href="global.html#componentdidmountforfavourites">component did mount for favourites</a></li><li><a href="global.html#componentdidmountforhome">component did mount for home</a></li><li><a href="global.html#getdogs">get dogs</a></li><li><a href="global.html#getsearch">get search</a></li><li><a href="global.html#history">history</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#Profilepagefunctionalcomponent">Profile page functional component</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#Registerpagefunctionalcomponent">Register page functional component</a></li><li><a href="global.html#Searchpagefunctionalcomponent">Search page functional component</a></li><li><a href="global.html#state">state</a></li><li><a href="global.html#updatesearch">update search</a></li><li><a href="global.html#useeffect">use effect</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Apr 28 2021 07:55:49 GMT+0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
